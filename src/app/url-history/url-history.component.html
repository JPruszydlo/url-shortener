<div class="mt-14">
  <div
    *ngFor="let item of urlHistory"
    class="mt-3 pl-3 w-11/12 m-auto tracking-tighter text-blue-100 rounded-lg"
    style="background-color: rgba(0, 34, 196, 1); box-shadow: 0 0 5px rgb(40, 40, 100)"
  >
    <div class="text-lg">
      {{ item.short }}
      <div class="float-right mt-3.5 mr-2">
        <button (click)="qrCodeUrl = item.short">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6 inline-block">
            <path
              fill-rule="evenodd"
              d="M3 4.875C3 3.839 3.84 3 4.875 3h4.5c1.036 0 1.875.84 1.875 1.875v4.5c0 1.036-.84 1.875-1.875 1.875h-4.5A1.875 1.875 0 0 1 3 9.375v-4.5ZM4.875 4.5a.375.375 0 0 0-.375.375v4.5c0 .207.168.375.375.375h4.5a.375.375 0 0 0 .375-.375v-4.5a.375.375 0 0 0-.375-.375h-4.5Zm7.875.375c0-1.036.84-1.875 1.875-1.875h4.5C20.16 3 21 3.84 21 4.875v4.5c0 1.036-.84 1.875-1.875 1.875h-4.5a1.875 1.875 0 0 1-1.875-1.875v-4.5Zm1.875-.375a.375.375 0 0 0-.375.375v4.5c0 .207.168.375.375.375h4.5a.375.375 0 0 0 .375-.375v-4.5a.375.375 0 0 0-.375-.375h-4.5ZM6 6.75A.75.75 0 0 1 6.75 6h.75a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-.75.75h-.75A.75.75 0 0 1 6 7.5v-.75Zm9.75 0A.75.75 0 0 1 16.5 6h.75a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-.75.75h-.75a.75.75 0 0 1-.75-.75v-.75ZM3 14.625c0-1.036.84-1.875 1.875-1.875h4.5c1.036 0 1.875.84 1.875 1.875v4.5c0 1.035-.84 1.875-1.875 1.875h-4.5A1.875 1.875 0 0 1 3 19.125v-4.5Zm1.875-.375a.375.375 0 0 0-.375.375v4.5c0 .207.168.375.375.375h4.5a.375.375 0 0 0 .375-.375v-4.5a.375.375 0 0 0-.375-.375h-4.5Zm7.875-.75a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-.75.75h-.75a.75.75 0 0 1-.75-.75v-.75Zm6 0a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-.75.75h-.75a.75.75 0 0 1-.75-.75v-.75ZM6 16.5a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-.75.75h-.75a.75.75 0 0 1-.75-.75v-.75Zm9.75 0a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-.75.75h-.75a.75.75 0 0 1-.75-.75v-.75Zm-3 3a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-.75.75h-.75a.75.75 0 0 1-.75-.75v-.75Zm6 0a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-.75.75h-.75a.75.75 0 0 1-.75-.75v-.75Z"
              clip-rule="evenodd"
            />
          </svg>
        </button>
        <button (click)="copyToClipboard(item.short)" class="bg-blue-100 text-blue-600 pl-2 pr-2 rounded-xl ml-2">
          Copy
        </button>
      </div>
    </div>
    <p>{{ item.long }}</p>
  </div>
</div>

<div
  *ngIf="qrCodeUrl != ''"
  style="box-shadow: 0 0 15px black; padding: 0 0 40px 0"
  class="absolute bg-white top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-50"
>
  <p class="text-center mt-2">{{ qrCodeUrl }}</p>
  <qr-code [value]="qrCodeUrl" #QrCode size="250" errorCorrectionLevel="M" />
  <p class="text-center">
    <button (click)="saveAsImage(QrCode)" class="bg-blue-500 text-white pt-1 pb-1 pl-14 pr-14 rounded-md">
      Download
    </button>
  </p>
  <p class="text-center">
    <button (click)="qrCodeUrl = ''" class="bg-red-500 text-white pt-1 pb-1 pl-5 pr-5 rounded-md mt-2">Close</button>
  </p>
</div>
